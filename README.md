# COVID-19 CFR in Hong Kong
This repository is used to exhibit the R code and CSV data used in the essay "The impact of economic and demographic conditions on COVID-19 diagnosis delays and deaths in Hong Kong".
By using the CSV data and runing the codes in this repository, you can get the same figures and models of them.

## Building 
The models and figures are generated by RStudio with R version **4.2.1**.

## Important Note
Before runing the R scripts, please download all the .csv files in [CSV data](https://github.com/Rainitis/HK-COVID-19-CFR/tree/main/CSV%20data) directory  first.

## How to Use
There are 2 .R scripts in [R script](https://github.com/Rainitis/HK-COVID-19-CFR/tree/main/R%20script), which is used to generate the demographic of Covid-19 patients in Hong Kong with different groups and the survival analysis respectively (Essay Code_Demograph.R and Essay Code_Survival Anlysis.R).

### Essay Code_Demograph.R
In Essay Code_Demograph.R, it is divided into 4 different parts: The demographic of district/territory, the correlation matrix in Covid-19 patients, the case fatality rate (CFR) among reporting delay & hospitalization time, and time series plot of Covid-19 cases & death. To generate the picture you required, you  need to run all the packages/codes mentioned in the top 19 lines of code. You can run all the codes in the R script to generate the demographic figures used in the essay. Besides, if you only want the specific section, you can use Ctrl + F to open the search function and type the following sentences to find your target figure:

- For the demographic of district/territory: #District & Territory Demographic.
- For the CFR among reporting delay & hospitalization time: #CFR among reporting delay & hospitalization time.
- For the correlation matrix in Covid-19 patients: #Correlation.
- For the time series plot of Covid-19 cases & death: #Time-Series Plot.

Finally, you can run the corresponding codes in each section to generate the figures by using RStudio.

### Essay Code_Survival Anlysis.R
In Essay Code_Survival Anlysis.R, it is divided into 2 parts: K-M curves and Cox regression model.To generate the picture & models you required, you  need to run all the packages/codes mentioned in the top 27 lines of code. You can run all the codes in the R script to generate the K-M cureves and Cox models used in the essay. Besides, if you only want the specific section, you can use Ctrl + F to open the search function and type the following sentences to find your target figure/model:

- For the K-M curves of all Covid-19 patients: ##aplan-Meier (K-M) non-parametric analysis of all Covid-19 patients##.
- For the K-M curves of symptomatic Covid-19 patients: ##Kaplan-Meier (K-M) non-parametric analysis of Symptomatic Patients##.
- For the Cox regression model: #Cox proportional hazard model & Assumption#.

Finally, you can run the corresponding codes in each section to generate the figures and models by using RStudio.
